<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../elements/achiever-data.html">
<link rel="import" href="../elements/achiever-list.html">

<dom-module id="achiever-view">
    <template>
        <div>
            <div>
                <paper-input id="name" label="Enter your next achievement...">
                    <paper-icon-button slot="prefix" on-click="_add" data-item$="[[value]]"icon="add-box"></paper-icon-button>
                </paper-input>
            </div>
            <div>
                <achiever-data achievements="{{achievements}}"></achiever-data>
                <h3>Uncompleted Achievements</h3>
                <achiever-list filter-by="uncompleted" achievements="{{achievements}}"></achiever-list>
                <h3>Completed Achievements</h3>
                <achiever-list filter-by="completed" achievements="{{achievements}}"></achiever-list>
            </div>
        </div>
    </template>
    <script>
        class AchieverView extends Polymer.Element {
            static get is() { return 'achiever-view' }
            _add(event) {
                if (this.$.name.value) {
                    this.push('achievements', {
                        name: this.$.name.value,
                        done: false,
                    })
                    this.$.name.value = null;
                }
            }
        }
        window.customElements.define(AchieverView.is, AchieverView);
    </script>
</dom-module>